<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Random Numbers with Python API" href="prandom.html" /><link rel="prev" title="Functional notation" href="functional.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Random Number States - Utilities</title>
      <link rel="stylesheet" type="text/css" href="../../../%5fstatic/pygments.css?v=a078f75a" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/styles/furo.css" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/jupyter-sphinx.css?v=572af1d6" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/styles/furo-extensions.css" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/custom-furo.css" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/custom-jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/custom-codemirror-monokai.css" />
    <link rel="stylesheet" type="text/css" href="../../../%5fstatic/custom-tabs.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Utilities</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../%5fstatic/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../%5fstatic/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">passagemath 10.6.1 Reference Manual</span>
  
</a><div class="select-wrapper">
  <select id="versions-menu" onchange="changeVersion()">
    <option value="" selected>other version</option>
    <option value="https://doc-develop--sagemath.netlify.app">develop</option>
  </select>
</div><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Utilities</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="defaults.html">Default Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="functional.html">Functional notation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Random Number States</a></li>
<li class="toctree-l1"><a class="reference internal" href="prandom.html">Random Numbers with Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="unknown.html">The Unknown truth value</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="abstract_method.html">Abstract methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="bindable_class.html">Bindable classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="decorators.html">Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="constant_function.html">Constant functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="classcall_metaclass.html">Special Methods for Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="inherit_comparison.html">Metaclass for inheriting comparison functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="method_decorator.html">Base Class to Support Method Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="object_multiplexer.html">Multiplex calls to one object to calls to many objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="fast_methods.html">Fast methods via Cython</a></li>
<li class="toctree-l1"><a class="reference internal" href="call.html">Attribute and method calling</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="callable_dict.html">Callable dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="converting_dict.html">Converting Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="flatten.html">Flatten nested lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="search.html">Searching a sorted list</a></li>
<li class="toctree-l1"><a class="reference internal" href="mrange.html">Multidimensional enumeration</a></li>
<li class="toctree-l1"><a class="reference internal" href="multireplace.html">multi_replace</a></li>
<li class="toctree-l1"><a class="reference internal" href="map_threaded.html">Threaded map function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arith/srange.html">Ranges and the <code class="docutils literal notranslate"><span class="pre">[1,2,..,n]</span></code> notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="element_with_label.html">Elements with labels.</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="temporary_file.html">Temporary file handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote_file.html">get_remote_file</a></li>
<li class="toctree-l1"><a class="reference internal" href="messaging.html">Message delivery</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_ostools.html">Miscellaneous operating system functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../databases/sql_db.html">Relational (sqlite) Databases Module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stopgap.html">Stopgaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="superseded.html">Handling Superseded Functionality</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc_c.html">Miscellaneous functions (Cython)</a></li>
<li class="toctree-l1"><a class="reference internal" href="verbose.html">Verbosity System and Logging in SageMath</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="lazy_attribute.html">Lazy attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_format.html">Lazy format strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_import.html">Lazy imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_import_cache.html">Lazy import cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_list.html">Lazy lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_string.html">Lazy strings</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cachefunc.html">Cached Functions and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="weak_dict.html">Fast and safe weak value dictionary</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ext/fast_callable.html">Fast Expression Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ext/fast_eval.html">Fast Numerical Evaluation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cython.html">Cython support functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="inline_fortran.html">Fortran compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">A parser for symbolic equations and expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Evaluating Python code without any preparsing</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_eval.html">Evaluating a String in Sage</a></li>
<li class="toctree-l1"><a class="reference internal" href="sh.html">Evaluating shell scripts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../typeset/symbols.html">Symbols for Character Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/character_art.html">Base Class for Character-Based Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/character_art_factory.html">Factory for Character-Based Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/ascii_art.html">ASCII Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/unicode_art.html">Unicode Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/unicode_characters.html">Unicode Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="repr.html">Repr formatting support</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_input.html">Sage Input Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html">Tables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="html.html">HTML Fragments</a></li>
<li class="toctree-l1"><a class="reference internal" href="mathml.html">MathML output support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sagetex.html">Installing and using SageTeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">LaTeX printing support</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex_macros.html">LaTeX macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex_standalone.html">Standalone LaTeX Document class and TikzPicture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="func_persist.html">Support for persistent functions in .sage files</a></li>
<li class="toctree-l1"><a class="reference internal" href="persist.html">Object persistence</a></li>
<li class="toctree-l1"><a class="reference internal" href="fpickle.html">Function pickling</a></li>
<li class="toctree-l1"><a class="reference internal" href="explain_pickle.html">A tool for inspecting Python pickles</a></li>
<li class="toctree-l1"><a class="reference internal" href="nested_class.html">Fixing pickle for nested classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="session.html">Loading and saving sessions and listing all variables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="banner.html">SageMath version and banner info</a></li>
<li class="toctree-l1"><a class="reference internal" href="reset.html">Interpreter reset</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Determination of programs for viewing web pages, etc.</a></li>
<li class="toctree-l1"><a class="reference internal" href="pager.html">Pager for showing strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="sagedoc.html">Format Sage documentation for viewing with IPython and the notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="sagedoc_conf.html">Sphinx configuration shared by sage.misc.sphinxify and sage_docbuild</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinxify.html">Process docstrings with Sphinx</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="package.html">Listing Sage packages</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Dependency usage tracking for citations</a></li>
<li class="toctree-l1"><a class="reference internal" href="copying.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sage_unittest.html">Unit testing for Sage objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="random_testing.html">Random testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_nested_class.html">Test for nested class Parent</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_timeit.html">Accurate timing information for Sage commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_timeit_class.html">The <code class="docutils literal notranslate"><span class="pre">timeit</span></code> command</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiler.html">Simple profiling tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="gperftools.html">C Function Profiler Using Google Perftools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="instancedoc.html">Dynamic documentation for instances of classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="sageinspect.html">Inspect Python, Sage, and Cython objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="edit_module.html">Edit the source code of Sage interactively</a></li>
<li class="toctree-l1"><a class="reference internal" href="classgraph.html">Class inheritance graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_tools.html">Some tools for developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="function_mangling.html">Function Mangling</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest_index_of_methods.html">ReST index of functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ext/memory.html">Low-level memory allocation functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="c3.html">The C3 algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="c3_controlled.html">The C3 algorithm, under control of a total order</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/passagemath/passagemath/edit/main/src/sage/misc/randstate.pyx" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="random-number-states">
<span id="sage-misc-randstate"></span><h1>Random Number States<a class="headerlink" href="#random-number-states" title="Link to this heading">¶</a></h1>
<p id="module-sage.misc.randstate">AUTHORS:</p>
<ul class="simple">
<li><p>Carl Witty (2008-03): new file</p></li>
</ul>
<p>This module manages all the available pseudo-random number generators
in Sage.  (For the rest of the documentation in this module, we will
drop the “pseudo”.)</p>
<p>The goal is to allow algorithms using random numbers to be
reproducible from one run of Sage to the next, and (to the extent
possible) from one machine to the next (even across different
operating systems and architectures).</p>
<p>There are two parts to the API.  First we will describe the
command line oriented API, for setting random number generator seeds.
Then we will describe the library API, for people writing Sage
library code that uses random numbers.</p>
<section id="command-line-oriented-api">
<h2>Command line oriented API<a class="headerlink" href="#command-line-oriented-api" title="Link to this heading">¶</a></h2>
<p class="with-sage-tab with-python-tab">We’ll start with the simplest usage: setting fixed random number seeds
and showing that these lead to reproducible results.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">K</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage:</span> <span class="n">G</span> <span class="o">=</span> <span class="n">PermutationGroup</span><span class="p">([[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]])</span>
<span class="gp">sage:</span> <span class="n">rgp</span> <span class="o">=</span> <span class="n">Gp</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="k">def</span> <span class="nf">gap_randstring</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">....:</span>     <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_gap</span><span class="p">()</span>
<span class="gp">....:</span>     <span class="k">return</span> <span class="n">gap</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">SCRRandomString</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="k">def</span> <span class="nf">rtest</span><span class="p">():</span>
<span class="gp">....:</span>     <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_gp</span><span class="p">(</span><span class="n">rgp</span><span class="p">)</span>
<span class="gp">....:</span>     <span class="k">return</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">RR</span><span class="o">.</span><span class="n">random_element</span><span class="p">(),</span>
<span class="gp">....:</span>             <span class="n">K</span><span class="o">.</span><span class="n">random_element</span><span class="p">(),</span> <span class="n">G</span><span class="o">.</span><span class="n">random_element</span><span class="p">(),</span>
<span class="gp">....:</span>             <span class="n">gap_randstring</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">....:</span>             <span class="n">rgp</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span> <span class="n">ntl</span><span class="o">.</span><span class="n">ZZ_random</span><span class="p">(</span><span class="mi">99999</span><span class="p">),</span>
<span class="gp">....:</span>             <span class="n">random</span><span class="p">())</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">K</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">];</span> <span class="p">(</span><span class="n">x</span><span class="p">,)</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">_first_ngens</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">G</span> <span class="o">=</span> <span class="n">PermutationGroup</span><span class="p">([[(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">Integer</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">Integer</span><span class="p">(</span><span class="mi">3</span><span class="p">)),(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">))],</span> <span class="p">[(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">Integer</span><span class="p">(</span><span class="mi">2</span><span class="p">))]])</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">rgp</span> <span class="o">=</span> <span class="n">Gp</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">gap_randstring</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">...</span>     <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_gap</span><span class="p">()</span>
<span class="gp">...</span>     <span class="k">return</span> <span class="n">gap</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">SCRRandomString</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">rtest</span><span class="p">():</span>
<span class="gp">...</span>     <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_gp</span><span class="p">(</span><span class="n">rgp</span><span class="p">)</span>
<span class="gp">...</span>     <span class="k">return</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1000</span><span class="p">)),</span> <span class="n">RR</span><span class="o">.</span><span class="n">random_element</span><span class="p">(),</span>
<span class="gp">...</span>             <span class="n">K</span><span class="o">.</span><span class="n">random_element</span><span class="p">(),</span> <span class="n">G</span><span class="o">.</span><span class="n">random_element</span><span class="p">(),</span>
<span class="gp">...</span>             <span class="n">gap_randstring</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)),</span>
<span class="gp">...</span>             <span class="n">rgp</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span> <span class="n">ntl</span><span class="o">.</span><span class="n">ZZ_random</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">99999</span><span class="p">)),</span>
<span class="gp">...</span>             <span class="n">random</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>The above test shows the results of six different random number
generators, in three different processes.  The random elements from
<code class="docutils literal notranslate"><span class="pre">ZZ</span></code>, <code class="docutils literal notranslate"><span class="pre">RR</span></code>, and <code class="docutils literal notranslate"><span class="pre">K</span></code> all derive from a single GMP-based random number
generator.  The random element from <code class="docutils literal notranslate"><span class="pre">G</span></code> comes from a GAP subprocess.
The random “string” (5-element binary list) is also from a GAP
subprocess, using the “classical” GAP random generator.
The random number from <code class="docutils literal notranslate"><span class="pre">rgp</span></code> is from a Pari/gp subprocess.  NTL’s
<code class="docutils literal notranslate"><span class="pre">ZZ_random</span></code> uses a separate NTL random number generator in the main
Sage process.  And <code class="docutils literal notranslate"><span class="pre">random()</span></code> is from a Python <a class="reference external" href="https://docs.python.org/library/random.html#random.Random" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">random.Random</span></code></a>
object.</p>
<p class="with-sage-tab with-python-tab">Here we see that setting the random number seed really does make the
results of these random number generators reproducible.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(303, -0.266166246380421, 1/2*x^2 - 1/95*x - 1/2, (1,3), [ 1, 0, 0, 1, 1 ], 265625921, 5842, 0.9661911734708414)</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(207, -0.0141049486533456, 4*x^2 + 1/2, (1,2)(4,5), [ 1, 0, 0, 1, 1 ], 1642898426, 41662, 0.19982565117278328)</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(303, -0.266166246380421, 1/2*x^2 - 1/95*x - 1/2, (1,3), [ 1, 0, 0, 1, 1 ], 265625921, 5842, 0.9661911734708414)</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(207, -0.0141049486533456, 4*x^2 + 1/2, (1,2)(4,5), [ 1, 0, 0, 1, 1 ], 1642898426, 41662, 0.19982565117278328)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(303, -0.266166246380421, 1/2*x^2 - 1/95*x - 1/2, (1,3), [ 1, 0, 0, 1, 1 ], 265625921, 5842, 0.9661911734708414)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(207, -0.0141049486533456, 4*x^2 + 1/2, (1,2)(4,5), [ 1, 0, 0, 1, 1 ], 1642898426, 41662, 0.19982565117278328)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(303, -0.266166246380421, 1/2*x^2 - 1/95*x - 1/2, (1,3), [ 1, 0, 0, 1, 1 ], 265625921, 5842, 0.9661911734708414)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(207, -0.0141049486533456, 4*x^2 + 1/2, (1,2)(4,5), [ 1, 0, 0, 1, 1 ], 1642898426, 41662, 0.19982565117278328)</span>
</pre></div>
</div>
</div>
</div>
<p class="with-sage-tab with-python-tab">Once we’ve set the random number seed, we can check what seed was used.
(This is not the current random number state; it does not change when
random numbers are generated.)</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="go">12345</span>
<span class="gp">sage:</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(720, -0.612180244315804, x^2 - x, (1,2,3), [ 1, 0, 0, 0, 1 ], 1911581957, 27093, 0.9205331599518184)</span>
<span class="gp">sage:</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="go">12345</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">12345</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="go">12345</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(720, -0.612180244315804, x^2 - x, (1,2,3), [ 1, 0, 0, 0, 1 ], 1911581957, 27093, 0.9205331599518184)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="go">12345</span>
</pre></div>
</div>
</div>
</div>
<p>If <a class="reference internal" href="#sage.misc.randstate.set_random_seed" title="sage.misc.randstate.set_random_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a> is called with no arguments, then a new
seed is automatically selected.  On operating systems that support it,
the new seed comes from <a class="reference external" href="https://docs.python.org/library/os.html#os.urandom" title="(in Python v3.12)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.urandom()</span></code></a>; this is intended to be
a truly random (not pseudo-random), cryptographically secure number.
(Whether it is actually cryptographically secure depends on operating
system details that are outside the control of Sage.)</p>
<p class="with-sage-tab with-python-tab">If <a class="reference external" href="https://docs.python.org/library/os.html#os.urandom" title="(in Python v3.12)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.urandom()</span></code></a> is not supported, then the new seed comes
from the current time, which is definitely not cryptographically
secure.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">r</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">r</span>         <span class="c1"># random</span>
<span class="go">(909, -0.407373370020575, 6/7*x^2 + 1, (1,2,3)(4,5), 985329107, 21461, 0.30047071049504859)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span>         <span class="c1"># random</span>
<span class="go">(909, -0.407373370020575, 6/7*x^2 + 1, (1,2,3)(4,5), 985329107, 21461, 0.30047071049504859)</span>
</pre></div>
</div>
</div>
</div>
<p class="with-sage-tab with-python-tab">After setting a new random number seed with <a class="reference internal" href="#sage.misc.randstate.set_random_seed" title="sage.misc.randstate.set_random_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a>,
we can use <a class="reference internal" href="#sage.misc.randstate.initial_seed" title="sage.misc.randstate.initial_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">initial_seed()</span></code></a> to see what seed was automatically
selected, and call <a class="reference internal" href="#sage.misc.randstate.set_random_seed" title="sage.misc.randstate.set_random_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a> to restart the same
random number sequence.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">s</span> <span class="o">=</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">s</span>         <span class="c1"># random</span>
<span class="go">336237747258024892084418842839280045662</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">r</span> <span class="o">==</span> <span class="n">r2</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">s</span>         <span class="c1"># random</span>
<span class="go">336237747258024892084418842839280045662</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">==</span> <span class="n">r2</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
</div>
<p>Whenever Sage starts, <a class="reference internal" href="#sage.misc.randstate.set_random_seed" title="sage.misc.randstate.set_random_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a> is called just before
command line interaction starts; so every Sage run starts with a
different random number seed.  This seed can be recovered with
<a class="reference internal" href="#sage.misc.randstate.initial_seed" title="sage.misc.randstate.initial_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">initial_seed()</span></code></a> (as long as the user has not set a different
seed with <a class="reference internal" href="#sage.misc.randstate.set_random_seed" title="sage.misc.randstate.set_random_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a>), so that the results of this run
can be reproduced in another run; or this automatically selected seed
can be overridden with, for instance, <code class="docutils literal notranslate"><span class="pre">set_random_seed(0)</span></code>.</p>
<p class="with-sage-tab with-python-tab">We can demonstrate this startup behavior by running a new instance of
Sage as a subprocess.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">subsage</span> <span class="o">=</span> <span class="n">Sage</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">s</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">(</span><span class="n">subsage</span><span class="p">(</span><span class="s1">&#39;initial_seed()&#39;</span><span class="p">))</span>
<span class="gp">sage:</span> <span class="n">r</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">(</span><span class="n">subsage</span><span class="p">(</span><span class="s1">&#39;ZZ.random_element(2^200)&#39;</span><span class="p">))</span>
<span class="gp">sage:</span> <span class="n">s</span>         <span class="c1"># random</span>
<span class="go">161165040149656168853863459174502758403</span>
<span class="gp">sage:</span> <span class="n">r</span>         <span class="c1"># random</span>
<span class="go">1273828861620427462924151488498075119241254209468761367941442</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">r</span> <span class="o">==</span> <span class="n">ZZ</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">200</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">subsage</span> <span class="o">=</span> <span class="n">Sage</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">(</span><span class="n">subsage</span><span class="p">(</span><span class="s1">&#39;initial_seed()&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">(</span><span class="n">subsage</span><span class="p">(</span><span class="s1">&#39;ZZ.random_element(2^200)&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">s</span>         <span class="c1"># random</span>
<span class="go">161165040149656168853863459174502758403</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span>         <span class="c1"># random</span>
<span class="go">1273828861620427462924151488498075119241254209468761367941442</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">==</span> <span class="n">ZZ</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="n">Integer</span><span class="p">(</span><span class="mi">200</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
</div>
<p class="with-sage-tab with-python-tab">Note that wrappers of all the random number generation methods from
Python’s <a class="reference external" href="https://docs.python.org/library/random.html#module-random" title="(in Python v3.12)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">random</span></code></a> module are available at the Sage command
line, and these wrappers are properly affected by <a class="reference internal" href="#sage.misc.randstate.set_random_seed" title="sage.misc.randstate.set_random_seed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a>.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">random</span><span class="p">(),</span> <span class="n">getrandbits</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">),</span> <span class="n">normalvariate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">(0.111439293741037, 539332, 8.26785106378383, 1.3893337539828183)</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">random</span><span class="p">(),</span> <span class="n">getrandbits</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">),</span> <span class="n">normalvariate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">(0.8294022851874259, 624859, 5.77894484361117, -0.4201366826308758)</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">random</span><span class="p">(),</span> <span class="n">getrandbits</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">),</span> <span class="n">normalvariate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">(0.111439293741037, 539332, 8.26785106378383, 1.3893337539828183)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--6-input--2" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">random</span><span class="p">(),</span> <span class="n">getrandbits</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">20</span><span class="p">)),</span> <span class="n">uniform</span><span class="p">(</span><span class="n">RealNumber</span><span class="p">(</span><span class="s1">&#39;5.0&#39;</span><span class="p">),</span> <span class="n">RealNumber</span><span class="p">(</span><span class="s1">&#39;10.0&#39;</span><span class="p">)),</span> <span class="n">normalvariate</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">(0.111439293741037, 539332, 8.26785106378383, 1.3893337539828183)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">random</span><span class="p">(),</span> <span class="n">getrandbits</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">20</span><span class="p">)),</span> <span class="n">uniform</span><span class="p">(</span><span class="n">RealNumber</span><span class="p">(</span><span class="s1">&#39;5.0&#39;</span><span class="p">),</span> <span class="n">RealNumber</span><span class="p">(</span><span class="s1">&#39;10.0&#39;</span><span class="p">)),</span> <span class="n">normalvariate</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">(0.8294022851874259, 624859, 5.77894484361117, -0.4201366826308758)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">random</span><span class="p">(),</span> <span class="n">getrandbits</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">20</span><span class="p">)),</span> <span class="n">uniform</span><span class="p">(</span><span class="n">RealNumber</span><span class="p">(</span><span class="s1">&#39;5.0&#39;</span><span class="p">),</span> <span class="n">RealNumber</span><span class="p">(</span><span class="s1">&#39;10.0&#39;</span><span class="p">)),</span> <span class="n">normalvariate</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">(0.111439293741037, 539332, 8.26785106378383, 1.3893337539828183)</span>
</pre></div>
</div>
</div>
</div>
<p>That pretty much covers what you need to know for command-line use of
this module.  Now let’s move to what authors of Sage library code
need to know about the module.</p>
</section>
<section id="library-api">
<h2>Library API<a class="headerlink" href="#library-api" title="Link to this heading">¶</a></h2>
<p>First, we’ll cover doctesting.  Every docstring now has an implicit
<code class="docutils literal notranslate"><span class="pre">set_random_seed(0)</span></code> prepended.  Any uses of <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">random</span></code> that
are based on random numbers under the control of this module should be
removed, and the reproducible answers inserted instead.</p>
<p>This practice has two potential drawbacks.  First, it increases the work
of maintaining doctests. For instance, in a long docstring that has
many doctests that depend on random numbers, a change near the beginning
(for instance, adding a new doctest) may invalidate all later doctests
in the docstring.  To reduce this downside, you may add calls to
<code class="docutils literal notranslate"><span class="pre">set_random_seed(0)</span></code> throughout the docstring (in the extreme case,
before every doctest).</p>
<p>Second, the <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">random</span></code> in the doctest served as a signal to the
reader of the docstring that the result was unpredictable and that it
would not be surprising to get a different result when trying out the
examples in the doctest.  If a doctest specifically refers to
<code class="docutils literal notranslate"><span class="pre">ZZ.random_element()</span></code> (for instance), this is presumably enough
of a signal to render this function of <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">random</span></code> unnecessary.
However, some doctests are not obviously (from the name) random, but
do depend on random numbers internally, such as the
<a class="reference external" href="../../../groups/sage/groups/perm_gps/permgroup.html#sage.groups.perm_gps.permgroup.PermutationGroup_generic.composition_series" title="(in Groups v10.6.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">composition_series</span></code></a>
method of a <code class="docutils literal notranslate"><span class="pre">PermutationGroup</span></code>.  In these cases, the convention is to insert
the following text at the beginning of the <code class="docutils literal notranslate"><span class="pre">EXAMPLES</span></code> section.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">These computations use pseudo-random numbers, so we set the</span>
<span class="go">seed for reproducible testing.</span>

<span class="go">    sage: set_random_seed(0)</span>
</pre></div>
</div>
<p>Note that this call to <code class="docutils literal notranslate"><span class="pre">set_random_seed(0)</span></code> is redundant, since
<code class="docutils literal notranslate"><span class="pre">set_random_seed(0)</span></code> is automatically inserted at the beginning
of every docstring. However, it makes the example reproducible for somebody
who just types the lines from the doctest and doesn’t know about the
automatic <code class="docutils literal notranslate"><span class="pre">set_random_seed(0)</span></code>.</p>
<p>Next, let’s cover setting the random seed from library code.  The
first rule is that library code should never call
<a class="reference internal" href="#sage.misc.randstate.set_random_seed" title="sage.misc.randstate.set_random_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a>. This function is only for command-line
use.  Instead, if the library code wants to use a different random
seed, it should use <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed(s):</span></code>. This will use the new seed
within the scope of the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement, but will revert to the previous
seed once the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement is completed.  (Or the library can use
<code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed():</span></code> to get a seed automatically selected using
<a class="reference external" href="https://docs.python.org/library/os.html#os.urandom" title="(in Python v3.12)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.urandom()</span></code></a> or the current time, in the same way as described for
<a class="reference internal" href="#sage.misc.randstate.set_random_seed" title="sage.misc.randstate.set_random_seed"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a> above.)</p>
<p>Ideally, using <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed(s):</span></code> should not affect the outer random
number sequence at all; we will call this property “isolation.”  We
achieve isolation for most, but not all, of the random number generators
in Sage (we fail for generators, such as NTL, that do not provide an API
to retrieve the current random number state).</p>
<p class="with-sage-tab with-python-tab">We’ll demonstrate isolation.  First, we show the sequence of random numbers
that you get without intervening <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed</span></code>.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">r1</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">();</span> <span class="nb">print</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span>
<span class="go">(303, -0.266166246380421, 1/2*x^2 - 1/95*x - 1/2, (1,3), [ 1, 0, 0, 1, 1 ], 265625921, 5842, 0.9661911734708414)</span>
<span class="gp">sage:</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">();</span> <span class="nb">print</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="go">(105, 0.642309615982449, -x^2 - x - 6, (1,3)(4,5), [ 1, 0, 0, 0, 1 ], 53231108, 77132, 0.001767155077382232)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r1</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">();</span> <span class="nb">print</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span>
<span class="go">(303, -0.266166246380421, 1/2*x^2 - 1/95*x - 1/2, (1,3), [ 1, 0, 0, 1, 1 ], 265625921, 5842, 0.9661911734708414)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">();</span> <span class="nb">print</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="go">(105, 0.642309615982449, -x^2 - x - 6, (1,3)(4,5), [ 1, 0, 0, 0, 1 ], 53231108, 77132, 0.001767155077382232)</span>
</pre></div>
</div>
</div>
</div>
<p class="with-sage-tab with-python-tab">We get slightly different results with an intervening <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed</span></code>.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">r1</span> <span class="o">==</span> <span class="n">rtest</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage:</span> <span class="k">with</span> <span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span> <span class="n">rtest</span><span class="p">()</span>
<span class="go">(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)</span>
<span class="gp">sage:</span> <span class="n">r2m</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">();</span> <span class="n">r2m</span>
<span class="go">(105, 0.642309615982449, -x^2 - x - 6, (1,3)(4,5), [ 1, 0, 0, 0, 1 ], 53231108, 40267, 0.001767155077382232)</span>
<span class="gp">sage:</span> <span class="n">r2m</span> <span class="o">==</span> <span class="n">r2</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r1</span> <span class="o">==</span> <span class="n">rtest</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">)):</span> <span class="n">rtest</span><span class="p">()</span>
<span class="go">(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r2m</span> <span class="o">=</span> <span class="n">rtest</span><span class="p">();</span> <span class="n">r2m</span>
<span class="go">(105, 0.642309615982449, -x^2 - x - 6, (1,3)(4,5), [ 1, 0, 0, 0, 1 ], 53231108, 40267, 0.001767155077382232)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r2m</span> <span class="o">==</span> <span class="n">r2</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
</div>
<p>We can see that <code class="docutils literal notranslate"><span class="pre">r2</span></code> and <code class="docutils literal notranslate"><span class="pre">r2m</span></code> are the same except for the
call to <code class="xref py py-func docutils literal notranslate"><span class="pre">ntl.ZZ_random()</span></code>, which produces different results
with and without the <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed</span></code>.</p>
<p class="with-sage-tab with-python-tab">However, we do still get a partial form of isolation, even in this
case, as we see in this example:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--9-input--1" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">r1</span> <span class="o">==</span> <span class="n">rtest</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage:</span> <span class="k">with</span> <span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">....:</span>     <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="gp">....:</span>     <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)</span>
<span class="go">(138, -0.0404945051288503, 2*x - 24, (1,2,3), [ 1, 1, 0, 1, 1 ], 1010791326, 91360, 0.0033332230808060803)</span>
<span class="gp">sage:</span> <span class="n">r2m</span> <span class="o">==</span> <span class="n">rtest</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--9-input--2" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r1</span> <span class="o">==</span> <span class="n">rtest</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">)):</span>
<span class="gp">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="gp">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">rtest</span><span class="p">())</span>
<span class="go">(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)</span>
<span class="go">(138, -0.0404945051288503, 2*x - 24, (1,2,3), [ 1, 1, 0, 1, 1 ], 1010791326, 91360, 0.0033332230808060803)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r2m</span> <span class="o">==</span> <span class="n">rtest</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
</div>
<p>The NTL results after the <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed</span></code> don’t depend on how many
NTL random numbers were generated inside the <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed</span></code>.</p>
<blockquote>
<div><p>sage: set_random_seed(0)
sage: r1 == rtest()
True
sage: with seed(1):
….:     rtest()
(978, 0.0557699430711638, -3*x^2 - 1/12, (1,2), [ 0, 0, 1, 1, 0 ], 807447831, 29982, 0.8335077654199736)
sage: r2m == rtest()
True</p>
</div></blockquote>
<p>(In general, the above code is not exactly equivalent to the <code class="docutils literal notranslate"><span class="pre">with</span></code>
statement, because if an exception happens in the body, the real
<code class="docutils literal notranslate"><span class="pre">with</span></code> statement will pass the exception information as parameters to
the <code class="docutils literal notranslate"><span class="pre">__exit__</span></code> method.  However, our <code class="docutils literal notranslate"><span class="pre">__exit__</span></code> method
ignores the exception information anyway, so the above is equivalent in
our case.)</p>
</section>
<section id="generating-random-numbers-in-library-code">
<h2>Generating random numbers in library code<a class="headerlink" href="#generating-random-numbers-in-library-code" title="Link to this heading">¶</a></h2>
<p>Now we come to the last part of the documentation: actually generating
random numbers in library code.  First, the easy case. If you generate
random numbers only by calling other Sage library code (such as
<code class="docutils literal notranslate"><span class="pre">random_element</span></code> methods on parents), you don’t need to do
anything special; the other code presumably already interacts with
this module correctly.</p>
<p>Otherwise, it depends on what random number generator you want to use.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">gmp_randstate_t</span></code> – if you want to use some random number
generator that takes a <code class="docutils literal notranslate"><span class="pre">gmp_randstate_t</span></code> (like <code class="docutils literal notranslate"><span class="pre">mpz_urandomm</span></code> or
<code class="docutils literal notranslate"><span class="pre">mpfr_urandomb</span></code>), then use code like the following:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.misc.randstate cimport randstate, current_randstate</span>
<span class="gp">...</span>

<span class="go">cdef randstate rstate = current_randstate()</span>
</pre></div>
</div>
<p>Then a <code class="docutils literal notranslate"><span class="pre">gmp_randstate_t</span></code> is available as <code class="docutils literal notranslate"><span class="pre">rstate.gmp_state</span></code>.</p>
<p>Fetch the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> with <code class="docutils literal notranslate"><span class="pre">current_randstate()</span></code> in
every function that wants to use it; don’t cache it globally or in a
class.  (Such caching would break <code class="docutils literal notranslate"><span class="pre">set_random_seed</span></code>).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Python</span></code> – if you want to use the random number generators from
the <a class="reference external" href="https://docs.python.org/library/random.html#module-random" title="(in Python v3.12)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">random</span></code></a> module, you have two choices.  The slightly
easier choice is to import functions from
<a class="reference internal" href="prandom.html#module-sage.misc.prandom" title="sage.misc.prandom"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.misc.prandom</span></code></a>; for instance, you can simply replace
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">random</span> <span class="pre">import</span> <span class="pre">randrange</span></code> with
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">sage.misc.prandom</span> <span class="pre">import</span> <span class="pre">randrange</span></code>.  However, this is slightly less
efficient, because the wrappers in <a class="reference internal" href="prandom.html#module-sage.misc.prandom" title="sage.misc.prandom"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.misc.prandom</span></code></a> look up the
current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> on each call.  If you’re generating many
random numbers in a row, it’s faster to instead do</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.misc.randstate import current_randstate ...</span>

<span class="go">randrange = current_randstate().python_random().randrange</span>
</pre></div>
</div>
<p>Fetch the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> with
<a class="reference internal" href="#sage.misc.randstate.current_randstate" title="sage.misc.randstate.current_randstate"><code class="xref py py-func docutils literal notranslate"><span class="pre">current_randstate()</span></code></a> in every function that wants to use it;
don’t cache the <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>, the <code class="xref py py-class docutils literal notranslate"><span class="pre">Random</span></code> object
returned by <code class="docutils literal notranslate"><span class="pre">python_random</span></code>, or the bound methods on that
<code class="xref py py-class docutils literal notranslate"><span class="pre">Random</span></code> object globally or in a class.  (Such caching would
break <code class="docutils literal notranslate"><span class="pre">set_random_seed</span></code>).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">GAP</span></code> – if you are calling code in GAP that uses random numbers,
call <code class="docutils literal notranslate"><span class="pre">set_seed_gap</span></code> at the beginning of your function, like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.misc.randstate import current_randstate</span>
<span class="gp">...</span>

<span class="go">current_randstate().set_seed_gap()</span>
</pre></div>
</div>
<p>Fetch the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> with
<a class="reference internal" href="#sage.misc.randstate.current_randstate" title="sage.misc.randstate.current_randstate"><code class="xref py py-func docutils literal notranslate"><span class="pre">current_randstate()</span></code></a> in every function that wants to use it;
don’t cache it globally or in a class.  (Such caching would break
<code class="docutils literal notranslate"><span class="pre">set_random_seed</span></code>).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Pari</span></code> – if you are calling code in the Pari library that uses
random numbers, call <code class="docutils literal notranslate"><span class="pre">set_seed_pari</span></code> at the beginning of your
function, like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.misc.randstate import current_randstate</span>
<span class="gp">...</span>

<span class="go">current_randstate().set_seed_pari()</span>
</pre></div>
</div>
<p>Fetch the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> with
<a class="reference internal" href="#sage.misc.randstate.current_randstate" title="sage.misc.randstate.current_randstate"><code class="xref py py-func docutils literal notranslate"><span class="pre">current_randstate()</span></code></a> in every function that wants to use it;
don’t cache it globally or in a class.  (Such caching would break
<code class="docutils literal notranslate"><span class="pre">set_random_seed</span></code>).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Pari/gp</span></code> – if you are calling code in a Pari/gp subprocess that
uses random numbers, call <code class="docutils literal notranslate"><span class="pre">set_seed_gp</span></code> at the beginning of your
function, like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.misc.randstate import current_randstate</span>
<span class="gp">...</span>

<span class="go">current_randstate().set_seed_gp()</span>
</pre></div>
</div>
<p>This will set the seed in the gp process in <code class="docutils literal notranslate"><span class="pre">sage.interfaces.gp.gp</span></code>.
If you have a different gp process, say in the variable <code class="docutils literal notranslate"><span class="pre">my_gp</span></code>, then
call <code class="docutils literal notranslate"><span class="pre">set_seed_gp(my_gp)</span></code> instead.</p>
<p>Fetch the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> with <a class="reference internal" href="#sage.misc.randstate.current_randstate" title="sage.misc.randstate.current_randstate"><code class="xref py py-func docutils literal notranslate"><span class="pre">current_randstate()</span></code></a> in
every function that wants to use it; don’t cache it globally or
in a class.  (Such caching would break <code class="docutils literal notranslate"><span class="pre">set_random_seed</span></code>).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">NTL</span></code> – if you are calling code in the NTL library that uses
random numbers, call <code class="docutils literal notranslate"><span class="pre">set_seed_ntl</span></code> at the beginning of your
function, like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.misc.randstate import current_randstate ...</span>

<span class="go">current_randstate().set_seed_ntl(False)</span>
</pre></div>
</div>
<p>Fetch the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> with
<a class="reference internal" href="#sage.misc.randstate.current_randstate" title="sage.misc.randstate.current_randstate"><code class="xref py py-func docutils literal notranslate"><span class="pre">current_randstate()</span></code></a> in every function that wants to use it;
don’t cache it globally or in a class.  (Such caching would break
<code class="docutils literal notranslate"><span class="pre">set_random_seed</span></code>).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">libc</span></code> – if you are writing code that calls the libc function
<a class="reference internal" href="#sage.misc.randstate.random" title="sage.misc.randstate.random"><code class="xref py py-func docutils literal notranslate"><span class="pre">random()</span></code></a>: don’t!  The <a class="reference internal" href="#sage.misc.randstate.random" title="sage.misc.randstate.random"><code class="xref py py-func docutils literal notranslate"><span class="pre">random()</span></code></a> function does not
give reproducible results across different operating systems, so we
can’t make portable doctests for the results.  Instead, do:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.misc.randstate cimport random</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#sage.misc.randstate.random" title="sage.misc.randstate.random"><code class="xref py py-func docutils literal notranslate"><span class="pre">random()</span></code></a> function in <a class="reference internal" href="#module-sage.misc.randstate" title="sage.misc.randstate"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.misc.randstate</span></code></a> gives a
31-bit random number, but it uses the <code class="docutils literal notranslate"><span class="pre">gmp_randstate_t</span></code> in the
current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>, so it is portable.  (This range was
chosen for two reasons: it matches the range of random() on 32-bit
and 64-bit Linux, although not Solaris; and it’s the largest range
of nonnegative numbers that fits in a 32-bit signed integer.)</p>
<p>However, you may still need to set the libc random number state; for
instance, if you are wrapping a library that uses <a class="reference internal" href="#sage.misc.randstate.random" title="sage.misc.randstate.random"><code class="xref py py-func docutils literal notranslate"><span class="pre">random()</span></code></a>
internally and you don’t want to change the library.  In that case,
call <code class="docutils literal notranslate"><span class="pre">set_seed_libc</span></code> at the beginning of your function, like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.misc.randstate import current_randstate</span>
<span class="gp">...</span>

<span class="go">current_randstate().set_seed_libc(False)</span>
</pre></div>
</div>
<p>Fetch the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> with
<a class="reference internal" href="#sage.misc.randstate.current_randstate" title="sage.misc.randstate.current_randstate"><code class="xref py py-func docutils literal notranslate"><span class="pre">current_randstate()</span></code></a> in every function that wants to use it;
don’t cache it globally or in a class.  (Such caching would break
<code class="docutils literal notranslate"><span class="pre">set_random_seed</span></code>).</p>
</li>
</ul>
</section>
<section id="classes-and-methods">
<h2>Classes and methods<a class="headerlink" href="#classes-and-methods" title="Link to this heading">¶</a></h2>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.randstate.benchmark_libc">
<span class="sig-prename descclassname"><span class="pre">sage.misc.randstate.</span></span><span class="sig-name descname"><span class="pre">benchmark_libc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L1009"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.benchmark_libc" title="Link to this definition">¶</a></dt>
<dd><p>This function was used to test whether moving from libc to GMP’s
Mersenne Twister for random numbers would be a significant slowdown.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--10-input--1" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">benchmark_libc</span><span class="p">,</span> <span class="n">benchmark_mt</span>
<span class="gp">sage:</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;benchmark_libc()&#39;</span><span class="p">)</span>  <span class="c1"># random</span>
<span class="go">125 loops, best of 3: 1.95 ms per loop</span>
<span class="gp">sage:</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;benchmark_mt()&#39;</span><span class="p">)</span>    <span class="c1"># random</span>
<span class="go">125 loops, best of 3: 2.12 ms per loop</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--10-input--2" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">benchmark_libc</span><span class="p">,</span> <span class="n">benchmark_mt</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;benchmark_libc()&#39;</span><span class="p">)</span>  <span class="c1"># random</span>
<span class="go">125 loops, best of 3: 1.95 ms per loop</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;benchmark_mt()&#39;</span><span class="p">)</span>    <span class="c1"># random</span>
<span class="go">125 loops, best of 3: 2.12 ms per loop</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.randstate.benchmark_mt">
<span class="sig-prename descclassname"><span class="pre">sage.misc.randstate.</span></span><span class="sig-name descname"><span class="pre">benchmark_mt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L1026"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.benchmark_mt" title="Link to this definition">¶</a></dt>
<dd><p>This function was used to test whether moving from libc to GMP’s
Mersenne Twister for random numbers would be a significant slowdown.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--11-input--1" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">benchmark_libc</span><span class="p">,</span> <span class="n">benchmark_mt</span>
<span class="gp">sage:</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;benchmark_libc()&#39;</span><span class="p">)</span>  <span class="c1"># random</span>
<span class="go">125 loops, best of 3: 1.95 ms per loop</span>
<span class="gp">sage:</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;benchmark_mt()&#39;</span><span class="p">)</span>    <span class="c1"># random</span>
<span class="go">125 loops, best of 3: 2.11 ms per loop</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--11-input--2" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">benchmark_libc</span><span class="p">,</span> <span class="n">benchmark_mt</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;benchmark_libc()&#39;</span><span class="p">)</span>  <span class="c1"># random</span>
<span class="go">125 loops, best of 3: 1.95 ms per loop</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;benchmark_mt()&#39;</span><span class="p">)</span>    <span class="c1"># random</span>
<span class="go">125 loops, best of 3: 2.11 ms per loop</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.randstate.current_randstate">
<span class="sig-prename descclassname"><span class="pre">sage.misc.randstate.</span></span><span class="sig-name descname"><span class="pre">current_randstate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L462"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.current_randstate" title="Link to this definition">¶</a></dt>
<dd><p>Return the current random number state.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--12-input--1" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span>
<span class="go">&lt;sage.misc.randstate.randstate object at 0x...&gt;</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">python_random</span><span class="p">()</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.111439293741037</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--12-input--2" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span>
<span class="go">&lt;sage.misc.randstate.randstate object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">python_random</span><span class="p">()</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.111439293741037</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.randstate.initial_seed">
<span class="sig-prename descclassname"><span class="pre">sage.misc.randstate.</span></span><span class="sig-name descname"><span class="pre">initial_seed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L987"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.initial_seed" title="Link to this definition">¶</a></dt>
<dd><p>Return the initial seed used to create the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--13-input--1" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="go">42</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--2" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="go">42</span>
</pre></div>
</div>
</div>
</div>
<p class="with-sage-tab with-python-tab">If you set a random seed (by failing to specify the seed), this is how
you retrieve the seed actually chosen by Sage.  This can also be
used to retrieve the seed chosen for a new Sage run (if the user
has not used <code class="docutils literal notranslate"><span class="pre">set_random_seed()</span></code>).</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--14-input--1" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">initial_seed</span><span class="p">()</span>          <span class="c1"># random</span>
<span class="go">121030915255244661507561642968348336774</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--14-input--2" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">initial_seed</span><span class="p">()</span>          <span class="c1"># random</span>
<span class="go">121030915255244661507561642968348336774</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.randstate.random">
<span class="sig-prename descclassname"><span class="pre">sage.misc.randstate.</span></span><span class="sig-name descname"><span class="pre">random</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L972"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.random" title="Link to this definition">¶</a></dt>
<dd><p>Return a 31-bit random number.  Intended as a drop-in replacement for
the libc <a class="reference internal" href="#sage.misc.randstate.random" title="sage.misc.randstate.random"><code class="xref py py-func docutils literal notranslate"><span class="pre">random()</span></code></a> function.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--15-input--1" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">31</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">random</span>
<span class="gp">sage:</span> <span class="n">random</span><span class="p">()</span>
<span class="go">32990711</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--15-input--2" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">31</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">random</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">random</span><span class="p">()</span>
<span class="go">32990711</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.randstate.</span></span><span class="sig-name descname"><span class="pre">randstate</span></span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L487"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> class.  This class keeps track of random number
states and seeds.  Type <code class="docutils literal notranslate"><span class="pre">sage.misc.randstate?</span></code> for much more
information on random numbers in Sage.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.ZZ_seed">
<span class="sig-name descname"><span class="pre">ZZ_seed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L629"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.ZZ_seed" title="Link to this definition">¶</a></dt>
<dd><p>When called on the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>, returns a 128-bit
<a class="reference external" href="../../../rings_standard/sage/rings/integer_ring.html#module-sage.rings.integer_ring" title="(in Reference Manual v10.6.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Integer</span></code></a> suitable for seeding another
random number generator.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--16-input--1" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">1414</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">ZZ_seed</span><span class="p">()</span>
<span class="go">48314508034782595865062786044921182484</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--16-input--2" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1414</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">ZZ_seed</span><span class="p">()</span>
<span class="go">48314508034782595865062786044921182484</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.c_rand_double">
<span class="sig-name descname"><span class="pre">c_rand_double</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L846"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.c_rand_double" title="Link to this definition">¶</a></dt>
<dd><p>Return a random floating-point number between 0 and 1.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--17-input--1" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">2718281828</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">c_rand_double</span><span class="p">()</span>
<span class="go">0.22437207488974298</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--17-input--2" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">2718281828</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">c_rand_double</span><span class="p">()</span>
<span class="go">0.22437207488974298</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.c_random">
<span class="sig-name descname"><span class="pre">c_random</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L823"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.c_random" title="Link to this definition">¶</a></dt>
<dd><p>Return a 31-bit random number.  Intended for internal
use only; instead of calling <code class="docutils literal notranslate"><span class="pre">current_randstate().c_random()</span></code>,
it is equivalent (but probably faster) to call the
<a class="reference internal" href="#sage.misc.randstate.random" title="sage.misc.randstate.random"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random</span></code></a> method of this
<a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> class.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--18-input--1" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">1207</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">c_random</span><span class="p">()</span>
<span class="go">2008037228</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--18-input--2" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1207</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">c_random</span><span class="p">()</span>
<span class="go">2008037228</span>
</pre></div>
</div>
</div>
</div>
<p class="with-sage-tab with-python-tab">We verify the equivalence mentioned above.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--19-input--1" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">random</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">1207</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">random</span><span class="p">()</span>
<span class="go">2008037228</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--19-input--2" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">random</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1207</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">random</span><span class="p">()</span>
<span class="go">2008037228</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.long_seed">
<span class="sig-name descname"><span class="pre">long_seed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L644"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.long_seed" title="Link to this definition">¶</a></dt>
<dd><p>When called on the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>, returns a 128-bit
Python long suitable for seeding another random number generator.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--20-input--1" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">1618</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">long_seed</span><span class="p">()</span>
<span class="go">256056279774514099508607350947089272595</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--20-input--2" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1618</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">long_seed</span><span class="p">()</span>
<span class="go">256056279774514099508607350947089272595</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.python_random">
<span class="sig-name descname"><span class="pre">python_random</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L583"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.python_random" title="Link to this definition">¶</a></dt>
<dd><p>Return a <a class="reference external" href="https://docs.python.org/library/random.html#random.Random" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">random.Random</span></code></a> object.  The first time it is
called on a given <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>, a new <a class="reference external" href="https://docs.python.org/library/random.html#random.Random" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">random.Random</span></code></a>
is created (seeded from the <em>current</em> <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>);
the same object is returned on subsequent calls.</p>
<p>It is expected that <code class="docutils literal notranslate"><span class="pre">python_random</span></code> will only be
called on the current <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cls</span></code> – (optional) a class with the same interface as
<a class="reference external" href="https://docs.python.org/library/random.html#random.Random" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">random.Random</span></code></a> (e.g. a subclass thereof) to use as the
Python RNG interface.  Otherwise the standard <a class="reference external" href="https://docs.python.org/library/random.html#random.Random" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">random.Random</span></code></a>
is used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seed</span></code> – (optional) an integer to seed the <a class="reference external" href="https://docs.python.org/library/random.html#random.Random" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">random.Random</span></code></a>
instance with upon creation; if not specified it is seeded using
<code class="docutils literal notranslate"><span class="pre">ZZ.random_element(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">128)</span></code>.</p></li>
</ul>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--21-input--1" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">rnd</span> <span class="o">=</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">python_random</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">rnd</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.013558022446944151</span>
<span class="gp">sage:</span> <span class="n">rnd</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="go">544</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--21-input--2" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">rnd</span> <span class="o">=</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">python_random</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">rnd</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.013558022446944151</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">rnd</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
<span class="go">544</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L563"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.seed" title="Link to this definition">¶</a></dt>
<dd><p>Return the initial seed of a <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> object.  (This is not
the current state; it does not change when you get random
numbers.)</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--22-input--1" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">randstate</span>
<span class="gp">sage:</span> <span class="n">r</span> <span class="o">=</span> <span class="n">randstate</span><span class="p">(</span><span class="mi">314159</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">r</span><span class="o">.</span><span class="n">seed</span><span class="p">()</span>
<span class="go">314159</span>
<span class="gp">sage:</span> <span class="n">r</span><span class="o">.</span><span class="n">python_random</span><span class="p">()</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.111439293741037</span>
<span class="gp">sage:</span> <span class="n">r</span><span class="o">.</span><span class="n">seed</span><span class="p">()</span>
<span class="go">314159</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--22-input--2" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">randstate</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">randstate</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">314159</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">seed</span><span class="p">()</span>
<span class="go">314159</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">python_random</span><span class="p">()</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.111439293741037</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">seed</span><span class="p">()</span>
<span class="go">314159</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.set_seed_gap">
<span class="sig-name descname"><span class="pre">set_seed_gap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L709"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.set_seed_gap" title="Link to this definition">¶</a></dt>
<dd><p>Check to see if <code class="docutils literal notranslate"><span class="pre">self</span></code> was the most recent <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>
to seed the GAP random number generator.  If not, seeds
the generator.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--23-input--1" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">99900000999</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_gap</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">gap</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="o">^</span><span class="mi">50</span><span class="p">)</span>
<span class="go">1496738263332555434474532297768680634540939580077</span>
<span class="gp">sage:</span> <span class="n">gap</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span><span class="o">.</span><span class="n">SCRRandomString</span><span class="p">()</span>
<span class="go">[ 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1,</span>
<span class="go">  1, 0, 0, 1, 1, 1, 1, 1, 0, 1 ]</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--23-input--2" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">99900000999</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_gap</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">gap</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">Integer</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">**</span><span class="n">Integer</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
<span class="go">1496738263332555434474532297768680634540939580077</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">gap</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">35</span><span class="p">))</span><span class="o">.</span><span class="n">SCRRandomString</span><span class="p">()</span>
<span class="go">[ 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1,</span>
<span class="go">  1, 0, 0, 1, 1, 1, 1, 1, 0, 1 ]</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.set_seed_gp">
<span class="sig-name descname"><span class="pre">set_seed_gp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L746"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.set_seed_gp" title="Link to this definition">¶</a></dt>
<dd><p>Check to see if <code class="docutils literal notranslate"><span class="pre">self</span></code> was the most recent <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>
to seed the random number generator in the given instance
of gp.  (If no instance is given, uses the one in
<a class="reference external" href="../../../interfaces/sage/interfaces/gp.html#sage.interfaces.gp.Gp" title="(in Interpreter Interfaces v10.6.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">gp</span></code></a>.)  If not, seeds the generator.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--24-input--1" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">987654321</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_gp</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">gp</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">23289294</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--24-input--2" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">987654321</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_gp</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">gp</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">23289294</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.set_seed_libc">
<span class="sig-name descname"><span class="pre">set_seed_libc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L658"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.set_seed_libc" title="Link to this definition">¶</a></dt>
<dd><p>Check to see if <code class="docutils literal notranslate"><span class="pre">self</span></code> was the most recent <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>
to seed the libc random number generator.  If not, seeds the
libc random number generator.  (Do not use the libc random
number generator if you have a choice; its randomness is poor,
and the random number sequences it produces are not portable
across operating systems.)</p>
<p>If the argument <code class="docutils literal notranslate"><span class="pre">force</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, seeds the generator
unconditionally.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--25-input--1" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">_doctest_libc_random</span>
<span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mh">0xBAD</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_libc</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">_doctest_libc_random</span><span class="p">()</span>   <span class="c1"># random</span>
<span class="go">1070075918</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--25-input--2" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.misc.randstate</span> <span class="kn">import</span> <span class="n">_doctest_libc_random</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mh">0xBAD</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_libc</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">_doctest_libc_random</span><span class="p">()</span>   <span class="c1"># random</span>
<span class="go">1070075918</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.set_seed_ntl">
<span class="sig-name descname"><span class="pre">set_seed_ntl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L683"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.set_seed_ntl" title="Link to this definition">¶</a></dt>
<dd><p>Check to see if <code class="docutils literal notranslate"><span class="pre">self</span></code> was the most recent <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a>
to seed the NTL random number generator.  If not, seeds
the generator.  If the argument <code class="docutils literal notranslate"><span class="pre">force</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
seeds the generator unconditionally.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--26-input--1" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">2008</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--26-input--2" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">2008</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p class="with-sage-tab with-python-tab">This call is actually redundant; <code class="xref py py-func docutils literal notranslate"><span class="pre">ntl.ZZ_random()</span></code> will
seed the generator itself.  However, we put the call in
to make the coverage tester happy.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--27-input--1" name="tab-set--27" type="radio"><label class="tab-label" for="tab-set--27-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_ntl</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">ntl</span><span class="o">.</span><span class="n">ZZ_random</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">40</span><span class="p">)</span>
<span class="go">1495283511775355459459209288047895196007</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--27-input--2" name="tab-set--27" type="radio"><label class="tab-label" for="tab-set--27-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_ntl</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ntl</span><span class="o">.</span><span class="n">ZZ_random</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">**</span><span class="n">Integer</span><span class="p">(</span><span class="mi">40</span><span class="p">))</span>
<span class="go">1495283511775355459459209288047895196007</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.randstate.randstate.set_seed_pari">
<span class="sig-name descname"><span class="pre">set_seed_pari</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L787"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.randstate.set_seed_pari" title="Link to this definition">¶</a></dt>
<dd><p>Check to see if <code class="docutils literal notranslate"><span class="pre">self</span></code> was the most recent <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a> to
seed the Pari random number generator.  If not, seeds the
generator.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since pari 2.4.3, pari’s random number generator has
changed a lot.  the seed output by getrand() is now a
vector of integers.</p>
</div>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--28-input--1" name="tab-set--28" type="radio"><label class="tab-label" for="tab-set--28-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">5551212</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_pari</span><span class="p">()</span>
<span class="gp">sage:</span> <span class="n">pari</span><span class="o">.</span><span class="n">getrand</span><span class="p">()</span><span class="o">.</span><span class="n">type</span><span class="p">()</span>
<span class="go">&#39;t_INT&#39;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--28-input--2" name="tab-set--28" type="radio"><label class="tab-label" for="tab-set--28-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">5551212</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">current_randstate</span><span class="p">()</span><span class="o">.</span><span class="n">set_seed_pari</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">pari</span><span class="o">.</span><span class="n">getrand</span><span class="p">()</span><span class="o">.</span><span class="n">type</span><span class="p">()</span>
<span class="go">&#39;t_INT&#39;</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.misc.randstate.seed">
<span class="sig-prename descclassname"><span class="pre">sage.misc.randstate.</span></span><span class="sig-name descname"><span class="pre">seed</span></span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L487"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.seed" title="Link to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.misc.randstate.randstate" title="sage.misc.randstate.randstate"><code class="xref py py-class docutils literal notranslate"><span class="pre">randstate</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.randstate.set_random_seed">
<span class="sig-prename descclassname"><span class="pre">sage.misc.randstate.</span></span><span class="sig-name descname"><span class="pre">set_random_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/passagemath/passagemath/blob/main/src/sage/misc/randstate.pyx#L940"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sage.misc.randstate.set_random_seed" title="Link to this definition">¶</a></dt>
<dd><p>Set the current random number seed from the given <code class="docutils literal notranslate"><span class="pre">seed</span></code>
(which must be coercible to a Python long).</p>
<p>If no seed is given, then a seed is automatically selected
using <a class="reference external" href="https://docs.python.org/library/os.html#os.urandom" title="(in Python v3.12)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.urandom()</span></code></a> if it is available, or the current
time otherwise.</p>
<p>Type <code class="docutils literal notranslate"><span class="pre">sage.misc.randstate?</span></code> for much more
information on random numbers in Sage.</p>
<p>This function is only intended for command line use.  Never call
this from library code; instead, use <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">seed(s):</span></code>.</p>
<p>Note that setting the random number seed to 0 is much faster than
using any other number.</p>
<p class="with-sage-tab with-python-tab">EXAMPLES:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--29-input--1" name="tab-set--29" type="radio"><label class="tab-label" for="tab-set--29-input--1">Sage</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage:</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage:</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="go">5</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--29-input--2" name="tab-set--29" type="radio"><label class="tab-label" for="tab-set--29-input--2">Python</label><div class="tab-content docutils container">
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">set_random_seed</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">initial_seed</span><span class="p">()</span>
<span class="go">5</span>
</pre></div>
</div>
</div>
</div>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="prandom.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Random Numbers with Python API</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="functional.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Functional notation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2025, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Random Number States</a><ul>
<li><a class="reference internal" href="#command-line-oriented-api">Command line oriented API</a></li>
<li><a class="reference internal" href="#library-api">Library API</a></li>
<li><a class="reference internal" href="#generating-random-numbers-in-library-code">Generating random numbers in library code</a></li>
<li><a class="reference internal" href="#classes-and-methods">Classes and methods</a></li>
<li><a class="reference internal" href="#sage.misc.randstate.benchmark_libc"><code class="docutils literal notranslate"><span class="pre">benchmark_libc()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.benchmark_mt"><code class="docutils literal notranslate"><span class="pre">benchmark_mt()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.current_randstate"><code class="docutils literal notranslate"><span class="pre">current_randstate()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.initial_seed"><code class="docutils literal notranslate"><span class="pre">initial_seed()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.random"><code class="docutils literal notranslate"><span class="pre">random()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate"><code class="docutils literal notranslate"><span class="pre">randstate</span></code></a><ul>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.ZZ_seed"><code class="docutils literal notranslate"><span class="pre">ZZ_seed()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.c_rand_double"><code class="docutils literal notranslate"><span class="pre">c_rand_double()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.c_random"><code class="docutils literal notranslate"><span class="pre">c_random()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.long_seed"><code class="docutils literal notranslate"><span class="pre">long_seed()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.python_random"><code class="docutils literal notranslate"><span class="pre">python_random()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.seed"><code class="docutils literal notranslate"><span class="pre">seed()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.set_seed_gap"><code class="docutils literal notranslate"><span class="pre">set_seed_gap()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.set_seed_gp"><code class="docutils literal notranslate"><span class="pre">set_seed_gp()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.set_seed_libc"><code class="docutils literal notranslate"><span class="pre">set_seed_libc()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.set_seed_ntl"><code class="docutils literal notranslate"><span class="pre">set_seed_ntl()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.randstate.set_seed_pari"><code class="docutils literal notranslate"><span class="pre">set_seed_pari()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.misc.randstate.seed"><code class="docutils literal notranslate"><span class="pre">seed</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.randstate.set_random_seed"><code class="docutils literal notranslate"><span class="pre">set_random_seed()</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../%5fstatic/documentation_options.js"></script>
    <script src="../../../%5fstatic/doctools.js"></script>
    <script src="../../../%5fstatic/sphinx_highlight.js"></script>
    <script src="../../../%5fstatic/scripts/furo.js"></script>
    <script src="../../../%5fstatic/clipboard.min.js"></script>
    <script src="../../../%5fstatic/copybutton.js"></script>
    <script src="../../../%5fstatic/tabs.js"></script>
    <script src="../../../%5fstatic/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../../%5fstatic/jupyter-sphinx-furo.js"></script>
    </body>
</html>